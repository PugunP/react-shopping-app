{"ast":null,"code":"// import products from \"../data/products\";\n\nconst cartReducer = (state, action) => {\n  //กระบวนการจัดการ state ผ่าน action\n  if (action.type === \"CALCULATE_TOTAL\") {\n    const {\n      total,\n      amount\n    } = state.products.reduce((cartTotal, item) => {\n      const {\n        price,\n        quantity\n      } = item;\n      const totalprice = price * quantity; //ยอดรวมสินค้าเเต่ละราย\n      cartTotal.total += totalprice; // จำนวนเงินรวม\n      cartTotal.amount += quantity; // ปริมาณรวม\n      return cartTotal;\n    }, {\n      total: 0,\n      //กำหนดค่าเริ่มต้น\n      amount: 0\n    });\n    return {\n      ...state,\n      total,\n      amount\n    };\n  }\n  if (action.type === \"REMOVE\") {\n    return {\n      ...state,\n      products: state.products.filter(item => item.id !== action.payload)\n    };\n  }\n  if (action.type === \"ADD\") {\n    let updateProduct = state.products.map(item => {\n      if (item.id === action.payload) {\n        return {\n          ...item,\n          quantity: item.quantity + 1\n        };\n      }\n      return item;\n    });\n    return {\n      ...state,\n      products: updateProduct\n    };\n  }\n  if (action.type === \"SUBTRACT\") {\n    let updateProduct = state.products.map(item => {\n      if (item.id === action.payload) {\n        return {\n          ...item,\n          quantity: item.quantity - 1\n        };\n      }\n      return item;\n    }).filter(item => item.quantity !== 0);\n    return {\n      ...state,\n      products: updateProduct\n    };\n  }\n};\nexport default cartReducer;","map":{"version":3,"names":["cartReducer","state","action","type","total","amount","products","reduce","cartTotal","item","price","quantity","totalprice","filter","id","payload","updateProduct","map"],"sources":["/Users/satapat/Desktop/test-project/Project react shopping/react-shopping-app/src/reducer/cartReducer.js"],"sourcesContent":["// import products from \"../data/products\";\n\nconst cartReducer = (state, action) => {\n  //กระบวนการจัดการ state ผ่าน action\n  if (action.type === \"CALCULATE_TOTAL\") {\n    const { total, amount } = state.products.reduce(\n      (cartTotal, item) => {\n        const { price, quantity } = item;\n        const totalprice = price * quantity; //ยอดรวมสินค้าเเต่ละราย\n        cartTotal.total += totalprice; // จำนวนเงินรวม\n        cartTotal.amount += quantity; // ปริมาณรวม\n        return cartTotal;\n      },\n      {\n        total: 0, //กำหนดค่าเริ่มต้น\n        amount: 0,\n      }\n    );\n    return {\n      ...state,\n      total,\n      amount,\n    };\n  }\n\n  if (action.type === \"REMOVE\") {\n    return {\n      ...state,\n      products: state.products.filter((item) => item.id !== action.payload),\n    };\n  }\n\n  if (action.type === \"ADD\") {\n    let updateProduct = state.products.map((item) =>{\n      if (item.id === action.payload) {\n        return {\n          ...item,\n          quantity: item.quantity + 1,\n        };\n      }\n      return item;\n    });\n    return{\n        ...state,\n        products:updateProduct\n    }\n  }\n  if (action.type === \"SUBTRACT\") {\n    let updateProduct = state.products.map((item) =>{\n      if (item.id === action.payload) {\n        return {\n          ...item,\n          quantity: item.quantity - 1,\n        };\n      }\n      return item;\n    }).filter((item)=>item.quantity !==0)\n    return{\n        ...state,\n        products:updateProduct\n    }\n  }\n};\nexport default cartReducer;\n"],"mappings":"AAAA;;AAEA,MAAMA,WAAW,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC;EACA,IAAIA,MAAM,CAACC,IAAI,KAAK,iBAAiB,EAAE;IACrC,MAAM;MAAEC,KAAK;MAAEC;IAAO,CAAC,GAAGJ,KAAK,CAACK,QAAQ,CAACC,MAAM,CAC7C,CAACC,SAAS,EAAEC,IAAI,KAAK;MACnB,MAAM;QAAEC,KAAK;QAAEC;MAAS,CAAC,GAAGF,IAAI;MAChC,MAAMG,UAAU,GAAGF,KAAK,GAAGC,QAAQ,CAAC,CAAC;MACrCH,SAAS,CAACJ,KAAK,IAAIQ,UAAU,CAAC,CAAC;MAC/BJ,SAAS,CAACH,MAAM,IAAIM,QAAQ,CAAC,CAAC;MAC9B,OAAOH,SAAS;IAClB,CAAC,EACD;MACEJ,KAAK,EAAE,CAAC;MAAE;MACVC,MAAM,EAAE;IACV,CACF,CAAC;IACD,OAAO;MACL,GAAGJ,KAAK;MACRG,KAAK;MACLC;IACF,CAAC;EACH;EAEA,IAAIH,MAAM,CAACC,IAAI,KAAK,QAAQ,EAAE;IAC5B,OAAO;MACL,GAAGF,KAAK;MACRK,QAAQ,EAAEL,KAAK,CAACK,QAAQ,CAACO,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACK,EAAE,KAAKZ,MAAM,CAACa,OAAO;IACtE,CAAC;EACH;EAEA,IAAIb,MAAM,CAACC,IAAI,KAAK,KAAK,EAAE;IACzB,IAAIa,aAAa,GAAGf,KAAK,CAACK,QAAQ,CAACW,GAAG,CAAER,IAAI,IAAI;MAC9C,IAAIA,IAAI,CAACK,EAAE,KAAKZ,MAAM,CAACa,OAAO,EAAE;QAC9B,OAAO;UACL,GAAGN,IAAI;UACPE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;QAC5B,CAAC;MACH;MACA,OAAOF,IAAI;IACb,CAAC,CAAC;IACF,OAAM;MACF,GAAGR,KAAK;MACRK,QAAQ,EAACU;IACb,CAAC;EACH;EACA,IAAId,MAAM,CAACC,IAAI,KAAK,UAAU,EAAE;IAC9B,IAAIa,aAAa,GAAGf,KAAK,CAACK,QAAQ,CAACW,GAAG,CAAER,IAAI,IAAI;MAC9C,IAAIA,IAAI,CAACK,EAAE,KAAKZ,MAAM,CAACa,OAAO,EAAE;QAC9B,OAAO;UACL,GAAGN,IAAI;UACPE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;QAC5B,CAAC;MACH;MACA,OAAOF,IAAI;IACb,CAAC,CAAC,CAACI,MAAM,CAAEJ,IAAI,IAAGA,IAAI,CAACE,QAAQ,KAAI,CAAC,CAAC;IACrC,OAAM;MACF,GAAGV,KAAK;MACRK,QAAQ,EAACU;IACb,CAAC;EACH;AACF,CAAC;AACD,eAAehB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}